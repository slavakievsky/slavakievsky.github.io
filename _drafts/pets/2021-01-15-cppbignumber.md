---
layout: post
title: Реализация BigNumber на C++
description: Тестовая реализация представления очень больших целых чисел
image: /assets/pets/2021-01-15-cppbignumber/preview.jpg
---

## Идея
### Зачем это надо?)
Для хранения любого, к примеру, целочисленного значения используется некоторый объём памяти. В некоторых ЯП, как, к примеру, в Python, все типы данных имеют ссылочное устройство.
Это позволяет хранить в стеке только указатель на адрес в куче (heap), где уже происходит выделение необходимого количества памяти под хранение значения.
При должной организации такой подход позволяет оперировать очень большими (соответственно ёмкими по памяти) значениями.

Что касается языков со значимыми типами данных (value type), то механизм хранения значений подразумевает, что в стеке находится структура из типа и значения.
Это накладывает ограничения на максимальный размер значения -> ограничено максимальное значение целого числа.

Естественно, очень часто приходится работать с числами, превосходящими максимально допустимое в C++ значение, пусть даже переменная имеет тип  **unsigned long**.

Для работы с такими числами реализовано множество инструментов, предоставляющих так называемые "Big Integer" типы данных.
Такие типы, как мне удалось выяснить, являются контейнерами = ссылочными конструкциями-классами. Иными словами данные инструменты воплощают ту идею, с которой начинается этот раздел.

Мне было интересно придумать и реализовать собственный класс для хранения и операций с бесконечно большими целыми числами.

### Цель

Итак, сформированная формальная цель моей работы заключается в следующем:
> Необходимо разработать структуру данных C++, пригодную для хранения неорганиченно больших по модулю целых чисел, и реализовать простейшие операции над ними.

## Техническое задание
В общем виде цель не очень понятна, так что я решил разбить её на простые составные части:
* Разработка структуры для хранения неограниченно больших по модулю чисел. Реализовать знак +/-.
  * Придумать, как представить число, не ограничиваясь размером unsigned long int
  * Придумать, как оптимально сохранять знак числа
* Реализация математических операторов для работы со структурой.
* Реализация вывода числа в привычном виде арабской записи.

## Детали реализации
### Представление числа
Для представления числа я решил разбить число на следующие составные части:
* Знак числа
* Модуль числа

Помня о том, что модуль числа не должен быть ограничен значением значимого типа C++, я решил хранить модуль числа следующим образом:
1. Модуль числа разбивается на "чанки" по два знака
2. Чанки сохраняются в динамически расширяемой последовательности в обратном (для удобства разбиения, операций и восстановления) порядке

Каждый чанк будет принимать значения от 0 до 99, так что я решил использовать для чанка тип "int_fast8_t".
Для хранения последовательности чанков для простоты я решил использовать **std::vector**.


Что касается знака числа, его я решил сохранять для удобства вычислений, как "int_fast8_t". То есть 1 или -1.
Такой выбор я обосновываю тем, что 

## Примеры использования
## Credits